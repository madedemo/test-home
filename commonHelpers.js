(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const n of o.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&s(n)}).observe(document,{childList:!0,subtree:!0});function r(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(e){if(e.ep)return;e.ep=!0;const o=r(e);fetch(e.href,o)}})();document.addEventListener("DOMContentLoaded",async function(){try{const t=(await axios.get("https://books-backend.p.goit.global/books/category-list")).data;console.log("Categories:",t),d(t),document.querySelectorAll(".category").forEach(s=>{s.addEventListener("click",async()=>{const e=s.textContent.trim();try{const n=(await axios.get(`https://books-backend.p.goit.global/books/category?category=${e}`)).data;console.log(`Books in category "${e}":`,n),m(n)}catch(o){console.error(`Error fetching books for category "${e}":`,o)}})})}catch(c){console.error("Error fetching categories:",c)}try{let t=(await axios.get("https://books-backend.p.goit.global/books/top-books")).data;console.log("Best Seller Books:",t),t=t.sort((r,s)=>r.id-s.id),g(t)}catch(c){console.error("Error fetching best seller books:",c)}});function d(c){const t=document.querySelector(".categories");if(t){t.innerHTML="";const r=document.createElement("h2");r.textContent="All Categories",t.appendChild(r),c.forEach(s=>{const e=document.createElement("div");e.classList.add("category"),e.textContent=s.list_name,t.appendChild(e)})}else console.error("Categories container not found")}function g(c){const t=document.getElementById("bestSellerBooksContainer");t?(t.innerHTML="",c.forEach(r=>{const s=document.createElement("div");s.classList.add("books-category-container");const e=document.createElement("h3");e.textContent=r.list_name,e.classList.add("books-category-title"),s.appendChild(e);const o=document.createElement("ul");o.classList.add("books-list"),r.books.forEach(n=>{const a=document.createElement("li");a.classList.add("books-item");const i=document.createElement("img");i.classList.add("books-image"),i.src=n.book_image,i.alt=n.title,a.appendChild(i);const l=document.createElement("div");l.classList.add("book-details"),l.innerHTML=`
          <p><strong>${n.title}</strong></p>
          <p>${n.author}</p>
        `,a.appendChild(l),o.appendChild(a)}),s.appendChild(o),t.appendChild(s)})):console.error("Best Seller Books container not found")}function m(c){const t=document.getElementById("bestSellerBooksContainer");if(t){t.innerHTML="";const r=document.createElement("ul");r.classList.add("books-list"),c.forEach(s=>{const e=document.createElement("li");e.classList.add("books-item");const o=document.createElement("img");o.classList.add("books-image"),o.src=s.book_image,o.alt=s.title,e.appendChild(o);const n=document.createElement("div");n.classList.add("book-details"),n.innerHTML=`
        <p><strong>${s.title}</strong></p>
        <p>${s.author}</p>
      `,e.appendChild(n),r.appendChild(e)}),t.appendChild(r)}else console.error("Category Books container not found")}
//# sourceMappingURL=commonHelpers.js.map
